basePath: /v0.1.0
info:
  title: ID Mapper
  version: 0.1.0
definitions:
  SearchResponse:
    description: Digital credential
    properties:
      locale:
        $ref: '#/definitions/LanguageCode'
      mapper:
        type: array
        items:
          $ref: '#/definitions/ResolveResponse'
      #          anyOf:
      #            - $ref: '#/definitions/LinkResponse'
      #            - $ref: '#/definitions/UnlinkResponse'
      #            - $ref: '#/definitions/UpdateResponse'
      #            - $ref: '#/definitions/ResolveResponse'
      reference_id:
        $ref: '#/definitions/ReferenceId'
      status:
        $ref: '#/definitions/RequestStatus'
      status_reason_code:
        $ref: '#/definitions/SearchStatusReasonCode'
      status_reason_message:
        description: >-
          Status reason code message. Helps actionanble messaging for
          systems/end users
        maxLength: 999
        type: string
      timestamp:
        $ref: '#/definitions/Timestamp'
    required:
      - reference_id
      - timestamp
      - status
    type: object
  AccountInfo:
    description: Beneficiary store of value account info
    properties:
      account_info:
        properties:
          additional_info:
            description: 'Additional info, if any'
            maxLength: 999
            type: string
          number:
            description: store of value account number
            example: '12345'
            type: string
          provider_info:
            $ref: '#/definitions/AccountProviderInfo'
          type:
            description: >-
              store of  value account type. e.g savings, checking, pre-paid,
              voucher, mobile-wallet, etc.,
            example: savings
            type: string
        required:
          - type
          - number
          - provider_info
        type: object
      contact_info:
        description: Person contact details
        properties:
          alt_email_id:
            type: string
          alt_mobile_number:
            type: string
          email_id:
            type: string
          mobile_number:
            type: string
          phone:
            description: landline
            type: string
      name:
        $ref: '#/definitions/LinkRequest/properties/name'
    required:
      - name
      - contact_info
      - account_info
    type: object
  AccountProviderInfo:
    description: Store of value account provider info
    properties:
      additional_info:
        description: 'Additional info, if any'
        maxLength: 999
        type: string
      code:
        description: >-
          code to identify the entity like bank, prepaid card/voucher issuing
          system, etc.,
        example: GTBIRWRKXXX
        type: string
      name:
        description: 'entity name like bank name, prepaid card/voucher issuing system, etc.,'
        example: GT Bank Rawanda
        type: string
      subcode:
        description: 'sub code like entity''s branch code, etc.,'
        type: string
    required:
      - name
      - code
    type: object
  Ack:
    description: >
      1. ACK: If the request is valid (for basic checks) and async callback (i.e
      webhook) will be invoked by reciever back to the sender.

      2. NACK: If the request is valid (for basic checks) and there is no futher
      updates from reciever back to the sender.

      3. ERR: If the reuqest is invalid and reciver can't process the request.
      error object holds error code, message.
    enum:
      - ACK
      - NACK
      - ERR
    type: string
  Error:
    description: >
      Describes an error object that is returned to standard post call request.
      <br>

      1. This object shall be sent when any request received by a participant is
      not parsable or message integrity check fails. <br>

      2. This object may be used across all transport protocols to acknowledge
      the receipt of a message i.e HTTPS, FTP, Messaging etc., <br>"
    properties:
      code:
        description: Standard error code
        enum:
          - err.request.bad
          - err.request.unauthorized
          - err.request.forbidden
          - err.request.not_found
          - err.request.timeout
          - err.version.not_supported
          - err.request.too_many_requests
          - err.sender_id.invalid
          - err.sender_uri.invalid
          - err.receiver_id.invalid
          - err.signature.missing
          - err.signature.invalid
          - err.encryption.invalid
          - err.service.unavailable
        type: string
      message:
        description: message to describe above error code
        maxLength: 999
        type: string
    type: object
  FileInfo:
    description: File info. Used in file upload feature using HTTPS
    properties:
      action:
        description: >-
          G2P Connect specific actions. Usually verb from the URI should go here
          to help store and fwd kind of processing requirements.
        type: string
      fileFormat:
        default: json
        description: 'File content format. e.g json, csv, etc.,'
        example: csv
        type: string
      fileName:
        description: >-
          Disbursement instruction file representing Disburse or OnDisburse end
          point elements i.e signature/header/message entities as a file record
        format: binary
        type: string
    required:
      - action
      - fileName
    type: object
  FinancialAddress:
    description: >-
      <br> 1. Financial address is case insensitive normative represenation of a
      store of value account represented as id-type:id@provider <br> 2. Every
      payer/payee financial address must resolve to an actual store of value
      account number for processing the payment instruction <br> 3. It is
      recommended the mapping between id and store of value account details to
      be held only at final store of value entity and intermediaries can hold 
      3. Few examples: <br> - token@id-provider e.g token:12345@mosip <br> -
      uid@pymt-rail e.g uid:12345@mosip <br> - vid@id-provider e.g
      vid:12345@PhilID <br> - mobile@mobile-provider e.g mobile:12345@m-pesa
      <br> - account-id@bank-psp-code e.g account:12345@gtbank <br> -
      account-no@ifsc-code.ifsc.npci e.g account:12345@HDFC0000001.ifsc.npci
      <br> - user-id@psp-code e.g. joeuser@gtbank <br> - token@psp-code e.g
      token:123456@sbi <br> - code@purpose-code.voucher-provider e.g
      voucher:12345@food.sodexo <br> - cdbc-id@cdbc e.g. 12345@DCash
    example: 'token:12345@gtbank'
    format: '^[a-zA-Z0-9.-]+@[a-zA-Z0-9.-]+$'
    type: string
  FinancialAddressList:
    type: array
    items:
      $ref: '#/definitions/FinancialAddress'
  KeyValueInfo:
    description: Key Value info
    properties:
      key:
        maxLength: 99
        type: string
      value:
        maxLength: 999
        type: string
    required:
      - key
      - value
    type: object
  LanguageCode:
    description: >-
      indicates language code. G2P Connect supports country codes as per ISO
      639.3 standard
    example: en
    pattern: '^[a-z]{3,3}$'
    type: string
  LinkRequest:
    description: ID to Store of value account linking request
    properties:
      additional_info:
        $ref: '#/definitions/KeyValueInfo'
      fa:
        $ref: '#/definitions/FinancialAddress'
      id:
        $ref: '#/definitions/PersonId'
      locale:
        $ref: '#/definitions/LanguageCode'
      mobile_number:
        type: string
      name:
        description: >-
          End-User's full name in displayable form including all name parts,
          possibly including titles and suffixes, ordered according to the
          End-User's locale and preferences.
        example: Mr. John Smith
        type: string
      reference_id:
        $ref: '#/definitions/ReferenceId'
      timestamp:
        $ref: '#/definitions/Timestamp'
    required:
      - reference_id
      - timestamp
      - id
      - fa
    type: object
  LinkResponse:
    description: Beneficiary ID to Store of value account linking response
    properties:
      additional_info:
        $ref: '#/definitions/KeyValueInfo'
      fa:
        $ref: '#/definitions/FinancialAddress'
      locale:
        $ref: '#/definitions/LanguageCode'
      reference_id:
        $ref: '#/definitions/ReferenceId'
      status:
        $ref: '#/definitions/RequestStatus'
      status_reason_code:
        $ref: '#/definitions/LinkStatusReasonCode'
      status_reason_message:
        description: >-
          Status reascon code message. Helps actionanble messaging for
          systems/end users
        maxLength: 999
        type: string
      timestamp:
        $ref: '#/definitions/Timestamp'
    required:
      - reference_id
      - timestamp
      - status
    type: object
  LinkStatusReasonCode:
    description: FA Mapper Link status reason codes
    enum:
      - rjct.reference_id.invalid
      - rjct.reference_id.duplicate
      - rjct.timestamp.invalid
      - rjct.id.invalid
      - rjct.fa.invalid
      - rjct.name.invalid
      - rjct.mobile_number.invalid
      - rjct.unknown.retry
      - rjct.other.error
    type: string
  MsgCallbackHeader:
    description: Message header
    properties:
      action:
        description: >-
          G2P Connect specific action. Usually verb from the URI should go here
          to help store and fwd kind of processing requirements.
        type: string
      completed_count:
        description: >-
          No of requests in complteed state. Complete includes success and error
          requests due to funcational errors
        example: 50
        type: integer
      is_encrypted:
        default: true
        description: Is message encrypted?
        type: boolean
      message_id:
        description: >-
          Unique message id to communicate between sender and receiver systems.
          Receiving system should echo the orignial message_id for correlations.
        example: '123456789020211216223812'
        type: string
      message_ts:
        description: Time of message generation in RFC3339 format
        example: '2022-12-04T18:02:35+00:00'
        format: date-time
        type: string
      receiver_id:
        description: >-
          receiver id registered with the calling system. Used for
          authorization, encryption, digital sign verfication, etc., functions.
        example: registry.example.org
        type: string
      receiver_uri:
        description: receiver url to accept callbacks
        example: ''
        format: uri
        type: string
      sender_id:
        description: >-
          send id registered with the receiving system. Used for authorization,
          encryption, digital sign verfication, etc., functions.
        example: pymts.example.org
        type: string
      sender_uri:
        description: sender url to accept callbacks
        example: ''
        format: uri
        type: string
      status:
        $ref: '#/definitions/RequestStatus'
      status_reason_code:
        $ref: '#/definitions/MsgHeaderStatusReasonCode'
      status_reason_message:
        description: >-
          Status reascon code message, if any, Helps actionanble messaging for
          system/end users
        maxLength: 999
        type: string
      total_count:
        description: Total no of requests present in the message request
        example: 21800
        type: integer
      version:
        description: Messaing protocol specification version being used
        example: 0.1.0
        type: string
    required:
      - message_id
      - message_ts
      - action
      - status
    type: object
  MsgHeader:
    description: Message header
    properties:
      action:
        description: >-
          G2P Connect specific action. Usually verb from the URI. Helps in sync,
          async, store/fwd processing. Helps identity payload type in message
          property.
        type: string
        enum:
          - search
          - link
          - resolve
          - update
          - unlink
      is_encrypted:
        default: true
        description: Is message encrypted?
        type: boolean
      message_id:
        description: >-
          Unique message id to communicate between sender and receiver systems
          to realiable deliver the message over any transport layer i.e https,
          pub/sub, sftp etc.,
        example: '123456789020211216223812'
        type: string
      message_ts:
        description: Time of message generation in RFC3339 format
        example: '2022-12-04T18:01:07+00:00'
        format: date-time
        type: string
      receiver_id:
        description: >-
          receiver id registered with the calling system. Used for
          authorization, encryption, digital sign verfication, etc., functions.
        example: pymts.example.org
        type: string
      sender_id:
        description: >-
          send id registered with the receiving system. Used for authorization,
          encryption, digital sign verfication, etc., functions.
        example: registry.example.org
        type: string
      sender_uri:
        description: sender url to accept callbacks
        example: 'https://registry.sender.org/g2p/callback/on-disburse'
        format: uri
        type: string
      total_count:
        description: Total no of requests present in the message request
        example: 21800
        type: integer
      version:
        description: Messaing protocol specification version being used
        example: 0.1.0
        type: string
    required:
      - message_id
      - message_ts
      - action
    type: object
  MsgHeaderStatusReasonCode:
    description: Message header related common status reason codes
    enum:
      - rjct.version.invalid
      - rjct.message_id.duplicate
      - rjct.message_ts.invalid
      - rjct.action.invalid
      - rjct.action.not_supported
      - rjct.total_count.invalid
      - rjct.total_count.limit_exceeded
      - rjct.errors.too_many
    type: string
  MsgSignature:
    description: >-
      Signature of {header}+{message} body verified using sender's signing
      public key
    example: >-
      Signature:  namespace="g2p",
      kidId="{sender_id}|{unique_key_id}|{algorithm}", algorithm="ed25519",
      created="1606970629", expires="1607030629", headers="(created) (expires)
      digest", signature="Base64(signing content)
    type: string
  PersonId:
    description: >-
      <br> 1. Beneficiary id is case insensitve normative represenation as
      id-type:id@provider <br> 2. This will enumerate foundational and
      functioanl id's to easily resolvable addressess <br> 3. This property is
      intended to unambiguously refer to an object, such as a person,
      organization, etc., <br> 4. Few examples: <br> -
      id@identifier-type.id-provider e.g token:12345@mosip, vid:12345@philid
      <br> - id@civil-registry.issuing-agency e.g id:12345@rwanda,
      id:12345@ejanma.karnataka <br> - id@functional-identifier.issuing-agency
      e.g id:12345@voter.Rwanda, id:12345@DL.karnataka,
      mobile:12345@fruits.karnataka <br> Note: id provider should be made
      configurable and solutions should adapt to the local jurisdiction and
      policies.<br> e.g fruits.karnataka represents farmer registry in karnataka
      state govt.<br>
    example: 'vid:12345@mosip'
    format: '^[a-zA-Z0-9.-]+@[a-zA-Z0-9.-]+$'
    type: string
  ReferenceId:
    description: >-
      Unique reference_id set by txn initiating system for each request in a
      batch
    example: '12345678901234567890'
    type: string
  ReferenceIdList:
    type: array
    items:
      $ref: '#/definitions/ReferenceId'
  RequestStatus:
    description: >-
      Request (e.g disburse, link, unlink, resolve, issue, search, verify,
      etc.,) status: <br> 1. rcvd: Received; Request received <br> 2. pdng:
      Pending; Request initiated <br> 3. succ: Success; Request successful <br>
      4. rjct: Rejected; Request rejected
    enum:
      - rcvd
      - pdng
      - succ
      - rjct
    type: string
  ResolveRequest:
    description: >
      1. If id is null then only verify and resolve fa is linked to store of
      value account. Verification is done by entity issuing fa.

      2. If id is not null then verify and resolve fa is linked store of value
      account. Additionally verify fa and id are issued to the same individual.
      If both conditions pass then resolve status can be set to yes.
    properties:
      additional_info:
        $ref: '#/definitions/KeyValueInfo'
      fa:
        $ref: '#/definitions/FinancialAddress'
      id:
        $ref: '#/definitions/PersonId'
      locale:
        $ref: '#/definitions/LanguageCode'
      name:
        $ref: '#/definitions/LinkRequest/properties/name'
      reference_id:
        $ref: '#/definitions/ReferenceId'
      scope:
        default: yes_no
        description: >-
          Resolve scope to return only yes_no or account provider or id details.
          Additional authorization based on caller to be enforced by the
          implementing system to return any sensitive data.
        enum:
          - yes_no
          - details
        type: string
      timestamp:
        $ref: '#/definitions/Timestamp'
    required:
      - reference_id
      - timestamp
    type: object
  ResolveResponse:
    description: Resolve financial address to store of value account info response
    properties:
      account_provider_info:
        $ref: '#/definitions/AccountProviderInfo'
      additional_info:
        $ref: '#/definitions/KeyValueInfo'
      fa:
        $ref: '#/definitions/FinancialAddress'
      id:
        $ref: '#/definitions/PersonId'
      locale:
        $ref: '#/definitions/LanguageCode'
      reference_id:
        $ref: '#/definitions/ReferenceId'
      status:
        $ref: '#/definitions/RequestStatus'
      status_reason_code:
        $ref: '#/definitions/ResolveStatusReasonCode'
      status_reason_message:
        description: >-
          Status reascon code message. Helps actionanble messaging for
          systems/end users
        maxLength: 999
        type: string
      timestamp:
        $ref: '#/definitions/Timestamp'
    required:
      - reference_id
      - timestamp
      - status
    type: object
  ResolveStatusReasonCode:
    description: FA Mapper Resolve status reason codes
    enum:
      - rjct.reference_id.invalid
      - rjct.reference_id.duplicate
      - rjct.timestamp.invalid
      - rjct.id.invalid
      - rjct.fa.invalid
      - rjct.resolve_type.not_supported
      - succ.fa.active
      - succ.fa.inactive
      - succ.fa.not_found
      - succ.fa.not_linked_to_id
      - succ.id.active
      - succ.id.inactive
      - succ.id.not_found
    type: string
  SearchRequest:
    description: Request to search mapper requests
    properties:
      attribute_type:
        enum:
          - fa
          - id
        type: string
      attribute_value: {}
      locale:
        $ref: '#/definitions/LanguageCode'
      reference_id:
        $ref: '#/definitions/ReferenceId'
      request_type:
        enum:
          - link
          - unlink
          - update
          - resolve
        type: string
    required:
      - reference_id
      - request_type
      - attribute_type
      - attribute_value
    type: object
  SearchStatusReasonCode:
    description: Financial mapper search reason codes
    enum:
      - rjct.reference_id.duplicate
      - rjct.timestamp.invalid
      - rjct.request_type.invalid
      - rjct.attribute_type.invalid
      - rjct.srch_transaction_id.invalid
      - rjct.srch_transaction_id.not_found
      - rjct_srch_reference_id_invalid
      - rjct_srch_reference_id_not_found
      - rjct.reference_id.invalid
      - rjct.srch_payer_fa.invalid
      - rjct.srch_payee_fa.invalid
      - rjct.share_attributes.invalid
      - rjct.srch.too_many_record_found
    type: string
  Timestamp:
    description: datetime in RFC3339 format
    example: '2022-12-04T17:20:07-04:00'
    format: date-time
    type: string
  TransactionId:
    description: >-
      Unique transaction_id set by txn initiating system (i.e sender) to
      co-relate requests across processing systems/service end points
    example: 012345678901234567890
    maxLength: 99
    type: string
  TxnStatusRequest:
    description: Request to search disbursement using payer or payee fa
    properties:
      locale:
        $ref: '#/definitions/LanguageCode'
      reference_id:
        $ref: '#/definitions/ReferenceId'
      request_type:
        enum:
          - link
          - unlink
          - update
          - resolve
        type: string
      search_attribute: {}
      search_type:
        enum:
          - transaction_id
          - reference_id_list
        type: string
    required:
      - reference_id
      - search_type
      - search_attribute
    type: object
  TxnStatusResponse:
    example:
      status-response:
        fa: test
        reference_id: test
        status: SUCC
        timestamp: test
    items: {}
    type: array
  UnlinkRequest:
    description: >-
      ID to Store of value account unlinking request. Unlink request removes
      entry against requested id/fa pair.
    properties:
      additional_info:
        $ref: '#/definitions/KeyValueInfo'
      fa:
        $ref: '#/definitions/FinancialAddress'
      id:
        $ref: '#/definitions/PersonId'
      locale:
        $ref: '#/definitions/LanguageCode'
      reference_id:
        $ref: '#/definitions/ReferenceId'
      timestamp:
        $ref: '#/definitions/Timestamp'
    required:
      - reference_id
      - timestamp
      - id
    type: object
  UnlinkResponse:
    description: ID to Store of value account unlinking response
    properties:
      additional_info:
        $ref: '#/definitions/KeyValueInfo'
      id:
        $ref: '#/definitions/PersonId'
      locale:
        $ref: '#/definitions/LanguageCode'
      reference_id:
        $ref: '#/definitions/ReferenceId'
      status:
        $ref: '#/definitions/RequestStatus'
      status_reason_code:
        $ref: '#/definitions/UnlinkStatusReasonCode'
      status_reason_message:
        description: >-
          Status reascon code message, if any, Helps actionanble messaging for
          systems/end users
        maxLength: 999
        type: string
      timestamp:
        $ref: '#/definitions/Timestamp'
    required:
      - reference_id
      - timestamp
      - status
    type: object
  UnlinkStatusReasonCode:
    description: FA Mapper Unlink status reason codes
    enum:
      - rjct.reference_id.invalid
      - rjct.reference_id.duplicate
      - rjct.timestamp.invalid
      - rjct.beneficiary_name.invalid
    type: string
  UpdateRequest:
    description: ID to Store of value account update request. ID can only unlinked.
    properties:
      additional_info:
        description: >-
          Additional info for interfacing DPGs platforms to integrate,
          reconcile, etc., unstructured data
        $ref: '#/definitions/KeyValueInfo'
      fa:
        $ref: '#/definitions/FinancialAddress'
      id:
        $ref: '#/definitions/PersonId'
      locale:
        $ref: '#/definitions/LanguageCode'
      mobile_number:
        type: string
      name:
        $ref: '#/definitions/LinkRequest/properties/name'
      reference_id:
        $ref: '#/definitions/ReferenceId'
      timestamp:
        $ref: '#/definitions/Timestamp'
    required:
      - reference_id
      - timestamp
      - id
      - fa
    type: object
  UpdateResponse:
    description: ID to Store of value account update response
    properties:
      additional_info:
        $ref: '#/definitions/KeyValueInfo'
      id:
        $ref: '#/definitions/PersonId'
      fa:
        $ref: '#/definitions/FinancialAddress'
      locale:
        $ref: '#/definitions/LanguageCode'
      reference_id:
        $ref: '#/definitions/ReferenceId'
      status:
        $ref: '#/definitions/RequestStatus'
      status_reason_code:
        $ref: '#/definitions/UpdateStatusReasonCode'
      status_reason_message:
        description: >-
          Status reascon code message, if any, Helps actionanble messaging for
          systems/end users
        maxLength: 999
        type: string
      timestamp:
        $ref: '#/definitions/Timestamp'
    required:
      - reference_id
      - timestamp
      - fa
      - status
    type: object
  UpdateStatusReasonCode:
    description: FA Mapper Update status reason codes
    enum:
      - rjct.reference_id.invalid
      - rjct.reference_id.duplicate
      - rjct.timestamp.invalid
      - rjct.beneficiary_name.invalid
    type: string
paths:
  /mapper/link:
    post:
      consumes:
        - application/json
      deprecated: false
      description: Linking ID to Financial Address in the mapper registry
      operationId: post_g2p_mapper_link
      parameters:
        - description: ''
          in: body
          name: body
          required: true
          schema:
            properties:
              header:
                allOf:
                  - $ref: '#/definitions/MsgHeader'
              message:
                properties:
                  link_request:
                    items:
                      $ref: '#/definitions/LinkRequest'
                    type: array
                  transaction_id:
                    $ref: '#/definitions/TransactionId'
                required:
                  - transaction_id
                  - link_request
                type: object
              signature:
                $ref: '#/definitions/MsgSignature'
            required:
              - header
              - message
            type: object
      produces:
        - application/json
      responses:
        '401':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        '403':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        '500':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        default:
          description: >-
            Acknowledgement of message received after successful validation of
            message and signature
          schema:
            properties:
              message:
                properties:
                  ack_status:
                    $ref: '#/definitions/Ack'
                  error:
                    $ref: '#/definitions/Error'
                  timestamp:
                    $ref: '#/definitions/Timestamp'
                type: object
            type: object
  /mapper/resolve:
    post:
      consumes:
        - application/json
        - multipart/form-data
      deprecated: false
      description: Resolve fa / beneficiary id to a store of value
      operationId: post_g2p_mapper_resolve
      parameters:
        - description: ''
          in: body
          name: body
          required: true
          schema:
            properties:
              header:
                allOf:
                  - $ref: '#/definitions/MsgHeader'
              message:
                properties:
                  resolve_request:
                    items:
                      $ref: '#/definitions/ResolveRequest'
                    type: array
                  transaction_id:
                    $ref: '#/definitions/TransactionId'
                required:
                  - transaction_id
                  - resolve_request
                type: object
              signature:
                $ref: '#/definitions/MsgSignature'
            required:
              - header
              - message
            type: object
      produces:
        - application/json
      responses:
        '401':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        '403':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        '500':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        default:
          description: >-
            Acknowledgement of message received after successful validation of
            message and signature
          schema:
            properties:
              message:
                properties:
                  ack_status:
                    $ref: '#/definitions/Ack'
                  error:
                    $ref: '#/definitions/Error'
                  timestamp:
                    $ref: '#/definitions/Timestamp'
                type: object
            type: object
      summary: 'FAMAP-RSLV : /mapper/resolve'
  /mapper/search:
    post:
      consumes:
        - application/json
        - multipart/form-data
      deprecated: false
      description: Search mapper by searchable attributes
      operationId: post_g2p_famap_search
      parameters:
        - description: ''
          in: body
          name: body
          required: true
          schema:
            properties:
              header:
                allOf:
                  - $ref: '#/definitions/MsgHeader'
              message:
                properties:
                  search_request:
                    $ref: '#/definitions/SearchRequest'
                  transaction_id:
                    $ref: '#/definitions/TransactionId'
                required:
                  - transaction_id
                  - search_request
                type: object
              signature:
                $ref: '#/definitions/MsgSignature'
            required:
              - header
              - message
            type: object
      produces:
        - application/json
      responses:
        '401':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        '403':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        '500':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        default:
          description: >-
            Acknowledgement of message received after successful validation of
            message and signature
          schema:
            properties:
              message:
                properties:
                  ack_status:
                    $ref: '#/definitions/Ack'
                  error:
                    $ref: '#/definitions/Error'
                  timestamp:
                    $ref: '#/definitions/Timestamp'
                type: object
            type: object
      summary: 'FAMAP-SRCH : /mapper/search'
  /mapper/txn/status:
    post:
      consumes:
        - application/json
        - multipart/form-data
      deprecated: false
      description: >-
        Perform async status check of previous mapper transanctions using
        searchable attributes
      operationId: post_g2p_mapper_txnstatus
      parameters:
        - description: ''
          in: body
          name: body
          required: true
          schema:
            properties:
              header:
                allOf:
                  - $ref: '#/definitions/MsgHeader'
              message:
                properties:
                  transaction_id:
                    $ref: '#/definitions/TransactionId'
                  txnstatus_request:
                    $ref: '#/definitions/TxnStatusRequest'
                required:
                  - transaction_id
                  - txnstatus_request
                type: object
              signature:
                $ref: '#/definitions/MsgSignature'
            required:
              - header
              - message
            type: object
      produces:
        - application/json
      responses:
        '401':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        '403':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        '500':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        default:
          description: >-
            Acknowledgement of message received after successful validation of
            message and signature
          schema:
            properties:
              message:
                properties:
                  ack_status:
                    $ref: '#/definitions/Ack'
                  error:
                    $ref: '#/definitions/Error'
                  timestamp:
                    $ref: '#/definitions/Timestamp'
                type: object
            type: object
      summary: 'FAMAP-TXNSTS : /mapper/txn/status'
  /mapper/unlink:
    post:
      consumes:
        - application/json
        - multipart/form-data
      deprecated: false
      description: Unlinking id from mapper registry
      operationId: post_g2p_mapper_unlink
      parameters:
        - description: ''
          in: body
          name: body
          required: true
          schema:
            properties:
              header:
                allOf:
                  - $ref: '#/definitions/MsgHeader'
              message:
                properties:
                  transaction_id:
                    $ref: '#/definitions/TransactionId'
                  unlink_request:
                    items:
                      $ref: '#/definitions/UnlinkRequest'
                    type: array
                required:
                  - transaction_id
                  - unlink_request
                type: object
              signature:
                $ref: '#/definitions/MsgSignature'
            required:
              - header
              - message
            type: object
      produces:
        - application/json
      responses:
        '401':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        '403':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        '500':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        default:
          description: >-
            Acknowledgement of message received after successful validation of
            message and signature
          schema:
            properties:
              message:
                properties:
                  ack_status:
                    $ref: '#/definitions/Ack'
                  error:
                    $ref: '#/definitions/Error'
                  timestamp:
                    $ref: '#/definitions/Timestamp'
                type: object
            type: object
      summary: 'FAMAP-ULNK : /mapper/unlink'
  /mapper/update:
    post:
      consumes:
        - application/json
        - multipart/form-data
      deprecated: false
      description: Updating fa details against an id in mapper registry
      operationId: put_g2p_mapper_update
      parameters:
        - description: ''
          in: body
          name: body
          required: true
          schema:
            properties:
              header:
                allOf:
                  - $ref: '#/definitions/MsgHeader'
              message:
                properties:
                  transaction_id:
                    $ref: '#/definitions/TransactionId'
                  update_request:
                    items:
                      $ref: '#/definitions/UpdateRequest'
                    type: array
                required:
                  - transaction_id
                  - update_request
                type: object
              signature:
                $ref: '#/definitions/MsgSignature'
            required:
              - header
              - message
            type: object
      produces:
        - application/json
      responses:
        '401':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        '403':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        '500':
          description: HTTP layer error details
          schema:
            description: >-
              HTTP transport layer error codes. Used by components like
              gateways, LB responding with HTTP status codes 1xx, 2xx, 3xx, 4xx
              and 5xx
            properties:
              error:
                properties:
                  code:
                    description: error code
                    type: string
                  message:
                    description: error message
                    type: string
                type: object
            type: object
        default:
          description: >-
            Acknowledgement of message received after successful validation of
            message and signature
          schema:
            properties:
              message:
                properties:
                  ack_status:
                    $ref: '#/definitions/Ack'
                  error:
                    $ref: '#/definitions/Error'
                  timestamp:
                    $ref: '#/definitions/Timestamp'
                type: object
            type: object
      summary: "FAMAP-UPDT\t: /mapper/update"
schemes:
  - http
swagger: '2.0'
